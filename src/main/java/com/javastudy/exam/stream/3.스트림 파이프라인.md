## 스트림 파이프라인

### 중간 처리와 최종 처리
- 리덕션(Reduction)
  - 대량의 데이터를 가공해서 축소하는 것을 말한다.
    * 합계, 평균값, 카운팅, 최대값, 최소값등을 집계 하는 것(즉, 결과를 내는 것이다.)
  - 요소가 리덕션의 결과물로 바로 집계할 수 없을 경우 중간 처리가 필요하다.
    - ※ 중간처리 :필터링, 매핑, 정렬, 그룹핑
  - 중간 처리한 요소를 최종 처리해서 리덕션 결과물을 산출한다.
- 스트림은 중간 처리와 최종 처리를 <font color="orange">파이프라인(pipelines)</font>으로 해결한다.
  - <font color="orange">파이프라인(pipelines)</font>: 스트림을 파이프처럼 이어 놓은 것을 말한다.
    - 중간 처리 메소드(필터링, 매핑, 정렬)는 중간 처리된 스트림을 리턴하고
    - 이 스트림에서 다시 중간 처리 메소드를 호출해서 파이프라인을 형성하게 된다.

  - >스트림 소스(컬렉션, 배열, 파일) -> <font color="orange">오리지널 스트림</font> -> 중간처리(필터링 처리) -> 중간처리(매핑 처리) -> 중간처리(그룹핑) -> <font color="green">최종처리(집계 처리, 결과물)</font>
  - 최종 스트립의 집계 기능이 시작되기 전까지 중간 처리는 지연(lazy)된다. (최종 처리 메소드가 호출되어야, 중간 처리 메소드가 동작된다.)
  - 최종 스트림이 시작하면 비로소 컬렉션에서 요소가 하나씩 중간 스트림에서 처리되고 최종 스트림까지 온다.
- 중간처리 메소드와 최종 처리 메소드 관계()
  - 최종 스트림이 시작되면, 중간스트림에서 요소가 하나씩 처리되며, 최종스트림까지 온 뒤에 결과를 반환한다.
  - 리턴타입을 보면 <font color="white">중간 처리 메소드</font>인지 <font color="orange">최종 처리 메소드</font> 인지 구분할 수 있다.
    - <font color="white">중간 처리 메소드</font>: 리턴 타입이 스트림
    - <font color="orange">최종 처리 메소드</font>: 리턴타입이 기본 타입 이거나 OptionalXXX
      - 최종 처리 메소드로 이런게 있다.
      - boolean 타입 allMatch(...) anyMatch(...), noneMatch(...) 
      - long 타입 count()
      - Optional 타입 findFirst(), max(...) min(...) reduce(...) average(...)
      - int, long, double 타입 sum()
      - 루핑으로 void forEach(...)
      - 수집으로 R collect(...)
  